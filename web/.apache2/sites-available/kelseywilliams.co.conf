<VirtualHost *:80>
        # As far as I know, servername does not need to be defined
        # as long as a url rewrite is not performed
	# ServerName "kelseywilliams.co"
        # ServerName "localhost"
        # ServerAdmin admin@kelseywilliams

        ### REVERSE PROXY OFF BEGIN ###
        # Use this configuration if you are not using a reverse proxy.
        # The Dockerfile in ./web should still download and enable the ssl
        # for disconnection of the reverse proxy.  This configuration will
        # allow apache2 to handle the https connection.  (Change port to 443)

	# SSLEngine on
	# SSLCertificateFile certs/kelseywilliams.co.crt
	# SSLCertificateKeyFile certs/kelseywilliams.co.key
	# SSLCertificateChainFile certs/kelseywilliams.co.ca
        ### REVERSE PROXY OFF END ### 

        ### REVERSE PROXY ON BEGIN ###
        # Route traffic to root domain to router "web".  (Change port to 80)
        # Internal traffic will be handled over http (port 80).  External connections
        # will be handled by reverse proxy over https (port 443).
        ProxyPreserveHost On
        ProxyPass "/" "http://web:80/"
        ProxyPassReverse "/" "http://web:80/"
        ### REVERSE PROXY ON END ###

        DocumentRoot /var/www/html

        # The following code will print logs to shell when starting docker-compose yaml detached
        ErrorLog ${APACHE_LOG_DIR}/error.log
        CustomLog ${APACHE_LOG_DIR}/access.log combined

        # The following code will print logs to apache_log volume 
        # ErrorLog /var/log/apache2/error.log
        # CustomLog /var/log/apache2/access.log combined
        Options Includes
</VirtualHost>

<Directory "/var/www/html/">
        Options Indexes FollowSymLinks MultiViews
        AllowOverride All
        allow from all
        # Rewrite for routing of all requests through REST controller
        #RewriteEngine On
        # To internally forward /dir/foo to /dir/foo.php
        #RewriteCond %{REQUEST_FILENAME} !-d
        #RewriteCond %{REQUEST_FILENAME}.php -f
        #RewriteRule ^(.*?)/?$ $1.php [L]
</Directory>
